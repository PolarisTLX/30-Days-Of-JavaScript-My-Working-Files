<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio üí™</title>
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> üíÅ</p>
  <script>
    // Get your shorts on - this is an array workout!
    // ## Array Cardio Day 1

    // Some data we can work with

    const inventors = [
      { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
      { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
      { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
      { first: 'Hanna', last: 'Hammarstr√∂m', year: 1829, passed: 1909 }
    ];

    const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];

    // Array.prototype.filter()
    // 1. Filter the list of inventors for those who were born in the 1500's
    /*
    const fifteen = inventors.filter(function(person){
      if(person.year >= 1500 && person.year < 1600){
        return true; //by returning true means we keep it. no need for esle return false required
      }
    });
    */

    //another way to do this more condensed:
    const fifteen = inventors.filter(person => (person.year >= 1500 && person.year < 1600));
    //note that "person" is word that is just picked here that is not a tie to anything before or after

    //console.log(fifteen);
    console.table(fifteen);  //this is really cool!


    // Array.prototype.map()
    // 2. Give us an array of the inventors' first and last names

    //unlike filter, map will always return the same amount of items are you give it, but they are modified
    const fullNames = inventors.map(person => person.first + ' ' + person.last);
    //note that it must be a +, will not work with &&
    console.log(fullNames);


    // Array.prototype.sort()
    // 3. Sort the inventors by birthdate, oldest to youngest

    //this will compare every pair or items next to each other in the list and order then, then it must run through to compare numerous times because it can carry the last item all the way to the front if that is where it belongs according to the rules.
    //it has been described as makes the items bubble themselves into their proper place.
  /*
    const ordered = inventors.sort(function(firstPerson, secondPerson){
      if (firstPerson.year > secondPerson.year){
        return 1;
      }
      else {
        return -1;
      }
    });

    //this couls also be ....sort(function(a,b){
      if (a.year > b.year){....
  */

    //condensed method:  with "turnerary operator" which is a short hand if-statement
    const ordered = inventors.sort((a, b) => a.year > b.year ? 1 : -1);
    //if a.year > b.year is true (?), return 1, otherwise(:) return -1

    //console.log(ordered);
    console.table(ordered);


    // Array.prototype.reduce()
    // 4. How many years did all the inventors live?
    //it's asking for cumulative ages


    //a reduce is a much cleaner way of doing something like this:
    /*
    const totalYears = 0;

    for (const i = 0; i < inventors.length; i++){
      totalYears += inventors[i].year;
    }
    */

    const totalYears = inventors.reduce((total, person) => {
      return total + (person.passed - person.year);
    }, 0);
    //the 0 at the end is required because total starts off as undefined?
    //same as like above total = 0;  to first define it?

    console.log(totalYears);


    // 5. Sort the inventors by years lived

    const oldest = inventors.sort((a,b) => (a.passed-a.year) > (b.passed-b.year) ? 1 : -1);
    console.table(oldest);


    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris

    const category = document.querySelector('.mw-category');
    //const links = category.querySelectorAll('a');
    //'a' is to look for links? which I suppose are a for anchor tags?

    //needs to be changed into an array (to be able to work on it), as it is currently a node list.
    //can be done by:   const links = Array.from(category.querySelectorAll('a'));
    //can be done by using ES6 spread:  const links = [...category.querySelectorAll('a')];

    // const links = [...(category.querySelectorAll('a')];
    // console.log(links);
    //
    // const de = links
    //               .map(link => link.textContent)  //note no ; here!
    //               .filter(streetName => streetName.includes('de'));
    //this is to give us only the text that is in each link

    // open the site, then open console with CTRL + SHFT + I, then paste:
    /*
    const category = document.querySelector('.mw-category');
    const links = [...category.querySelectorAll('a')];
    const de = links
                  .map(link => link.textContent)
                  .filter(streetName => streetName.includes('de'));
    */

    // 7. sort Exercise
    // Sort the people alphabetically by last name

    //easy for the inventors object/dictionary
    const alphabetically = inventors.sort((a,b) => a.last > b.last ? 1 : -1);
    console.table(alphabetically);

    //now to do same for the array called "people"
    const alphabetically2 = people.sort(function(lastOne,nextOne){
      //can also write ...ple.sort((lastOne,nextOne) => {
      const [aLast,aFirst] = lastOne.split(', ');
      const [bLast,bFirst] = nextOne.split(', ');
      return aLast > bLast ? 1 : -1;
      //console.log(last, first);
    });
    console.log(alphabetically2);


    // 8. Reduce Exercise
    // Sum up the instances of each of these
    const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];

    const transportation = data.reduce(function(obj, vehicle){
      //console.log(vehicle);

      if(!obj[vehicle]){
        obj[vehicle] = 0;  //this sets creates the spot for any newly listed item
      }

      obj[vehicle]++;
      return obj;
    }, {});  //need to start with a blank object/dictionary declared that is 0?

    console.log(transportation);


  </script>
</body>
</html>
